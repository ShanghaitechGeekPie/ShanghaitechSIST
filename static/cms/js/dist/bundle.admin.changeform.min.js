
var timestamp = (new Date()).valueOf();
!
function(t) {
	"use strict";
	t(document).ready(function() {
		var a = t("#id_title"),
			n = t("#id_slug"),
			i = !1,
			e = !1;
		n.keypress(function() {
			e = !1;
		});
		t('input[type="hidden"]').each(function() {
			t(this).parent(".form-row").hide()
		}), "" === n.val() && (e = !0), a.bind("keyup", function() {
			var t = a.val();
			window.UNIHANDECODER && (t = window.UNIHANDECODER.decode(t)), e === !1 && "" === n.val() && (e = !0);
			var i = URLify(t, 64);
			n.prevAll("label.required").children("small#help_sug").remove()
			i && n.prevAll("label.required").append("<small id=\"help_sug\">( What about <a href='##'>" + i + "</a> or <a href='##'>" + timestamp + "</a> )</small>")
			n.prevAll("label.required").children("small#help_sug").children("a").click(function(){
				$("#id_slug").val($(this).html());
				e = !1;
			})
			e && n.val(i)
		}), a.trigger("keyup"), a.focus(), t("div.loading").each(function() {
			t(this).load(t(this).attr("rel"))
		}), n.add(a).bind("change", function() {
			t(this).data("changed", !0)
		}), CMS.API.changeLanguage = function(t) {
			var e = !0;
			if (n.length && (n.data("changed") || a.data("changed")) && (i = !0), i) {
				var d = gettext("Are you sure you want to change tabs without saving the page first?");
				e = confirm(d)
			}
			e && (window.location.href = t)
		}

	})
}(CMS.$);
