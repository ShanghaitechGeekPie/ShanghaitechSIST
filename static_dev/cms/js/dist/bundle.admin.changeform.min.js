
var timestamp = (new Date()).valueOf();
!
function(t) {
	"use strict";
	t(document).ready(function() {
		var a = t("#id_title"),
			n = t("#id_slug"),
			i = !1,
			e = !1;
		t('input[type="hidden"]').each(function() {
			t(this).parent(".form-row").hide()
		}), "" === n.val() && (e = !0), a.bind("keyup", function() {
			var t = a.val();
			window.UNIHANDECODER && (t = window.UNIHANDECODER.decode(t)), e === !1 && "" === n.val() && (e = !0);
			var i = URLify(t, 64);
			if (e) {
				n.nextAll("p.help").children("span#help_sug").remove()
				i && n.nextAll("p.help").append("<span id=\"help_sug\" > Suggestion : <a href='#' onclick='$(\"#id_slug\").val(\"" + i + "\")'>" + i + "</a></span>")
				// n.val(i)
			}
		}), a.trigger("keyup"), a.focus(), t("div.loading").each(function() {
			t(this).load(t(this).attr("rel"))
		}), n.add(a).bind("change", function() {
			t(this).data("changed", !0)
		}), CMS.API.changeLanguage = function(t) {
			var e = !0;
			if (n.length && (n.data("changed") || a.data("changed")) && (i = !0), i) {
				var d = gettext("Are you sure you want to change tabs without saving the page first?");
				e = confirm(d)
			}
			e && (window.location.href = t)
		}
		n.val(timestamp);
	})
}(CMS.$);
